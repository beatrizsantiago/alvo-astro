---
import { Image } from 'astro:assets';
import WhiteLogo from '../../assets/white_logo.png';
---

<header id="site-header" class="fixed top-0 left-0 w-full z-50 transition-all duration-300 bg-transparent h-[70px]">

  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
    <a href="#inicio" class="text-xl font-bold text-white" id="logo">
      <Image src={WhiteLogo} alt="Logo" class="h-10 w-10" />
    </a>

    <nav class="hidden md:flex gap-8 text-white/90 font-medium">
      <a href="#inicio" class="hover:text-white">Início</a>
      <a href="#sobre" class="hover:text-white">Sobre nós</a>
      <a href="#agenda" class="hover:text-white">Agenda</a>
      <a href="#acompanhe" class="hover:text-white">Acompanhe-nos</a>
      <a href="#localizacao" class="hover:text-white">Localização</a>
    </nav>

    <button
      id="menu-btn"
      class="md:hidden text-white text-2xl"
      aria-label="Abrir menu"
      aria-controls="mobile-menu"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
      </svg>
    </button>
  </div>

  <div id="mobile-menu" class="hidden md:hidden bg-white text-black px-6 py-6 space-y-4">
    <a href="#inicio" class="mobile-link block text-amber-950">Início</a>
    <a href="#sobre" class="mobile-link block text-amber-950">Sobre nós</a>
    <a href="#agenda" class="mobile-link block text-amber-950">Agenda</a>
    <a href="#acompanhe" class="mobile-link block text-amber-950">Acompanhe-nos</a>
    <a href="#localizacao" class="mobile-link block text-amber-950">Localização</a>
  </div>

</header>

<script>
  const btn = document.getElementById("menu-btn");
  const menu = document.getElementById("mobile-menu");

  btn?.addEventListener("click", () => {
    menu?.classList.toggle("hidden");
  });

  const header = document.getElementById("site-header");

  window.addEventListener("scroll", () => {
    if (window.scrollY > 100) {
      header?.classList.remove("bg-transparent");
      header?.classList.add("bg-amber-950", "shadow", "text-black");
    } else {
      header?.classList.add("bg-transparent");
      header?.classList.remove("bg-amber-950", "shadow");
    }
  });

  document.querySelectorAll(".mobile-link").forEach(link => {
    link.addEventListener("click", () => {
      menu?.classList.add("hidden");
    });
  });
</script>
